
<div *ngIf="datas != ''" class="subitem">
  <button *ngFor="let item of datas; let i = index" type="button" class="btn btn-outline-secondary mr-2" 
      (click)="selecionaData($event.srcElement.value)" [class.selecionado]="dataSelecionada==item" placement="top" value="{{item}}">
      {{ item }}
  </button>
  <button type="button" class="btn btn-outline-secondary mr-2" 
    (click)="selecionaData($event.srcElement.value)" [class.selecionado]="dataSelecionada=='Todos'"  placement="button" value="Todos">
    Todos
  </button>
</div>

<div *ngIf="acoes != ''" class="subitem item2">
  <button *ngFor="let item of acoes; let i = index" type="button" class="btn btn-outline-secondary mr-2" 
      (click)="selecionaAcao($event.srcElement.value)" [class.selecionado]="acaoSelecionada==item"  placement="button" value="{{item}}">
      {{ item }}
  </button>
  <button type="button" class="btn btn-outline-secondary mr-2" 
  (click)="selecionaAcao($event.srcElement.value)" [class.selecionado]="acaoSelecionada=='Todas'"  placement="button" value="Todas">
  Todas
</button>
</div>
<div *ngIf="acaoSelecionada !== '' || this.dataSelecionada !== ''" class="item">
  <button type="button" class="btn btn-primary" (click)="filtre()">Filtre</button>
</div>

<br>
<div class="item">
<div class="float-sm-left"><span class="btn btn-primary btn-file">
    Arquivos ... <input type="file" 
    (change)="changeListener($event.target.files)" multiple accept=".csv">
  </span>
  </div>
<div class="float-sm-left px-2"><h5>Exibir operações...</h5></div>
<div class="float-sm-left">
  <label class="switch">
    <input type="checkbox"(change)="exibirOperacoes($event.target.checked)">
    <span class="slider round"></span>
  </label>
</div>
</div>
<!-- <label for="file-upload" class="custom-file-upload">
  Adicione os csvs
</label>
<input id="file-upload" type="file" (change)="changeListener($event.target.files)" multiple accept=".csv"> -->


<!-- <div class="item">
  <div *ngFor="let item of keys;">
      <div>{{item}}:{{listaDeOperacao[item] | json}}</div>
  </div>
</div> -->

<!-- <div class="item">
  <h1>Lista Filtrada</h1>
  {{ listaDeOperacao | json }}
</div>

<div *ngFor="let item of acoes; let i = index">

</div> -->

<div *ngIf="listaDeOperacaoFiltrada.length > 0 && exibirOperacoes" class="cards">
  <h5>Operações</h5>
  <div *ngFor="let item of listaDeOperacaoFiltrada; let i = index" class="card" style="width: 18rem;">
    <div class="card-body">
      <h5 class="card-title">{{ item.empresa }}</h5>
      <div class="card-text"> {{ item.natureza }}</div>
      <div class="card-text">Código: {{ item.codigo }}</div>
      <div class="card-text">Quantidade: {{ item.quantidade }}</div>
      <div class="card-text">Preço: {{ item.preco |number:'1.2-2' }}</div>
      <div class="card-text">Data: {{ item.Data() }}</div>
      <div class="card-text">MêsReferencia: {{ item.MesAno() }}</div>
      <!-- <a href="#" class="btn btn-primary">Go somewhere</a> -->
    </div>
  </div>
</div>

<div *ngIf="listaDeOperacaoFinalizadas.length > 0" class="cards">
    <div class="item">
        <!-- <h5>Total de Venda: {{ valorTotalVenda | number:2 }} </h5> -->
        <h5>Total de Venda: {{ valorTotalVenda|number:'1.2-2' }} </h5>
      </div>
    <h5>Operações Finalizadas </h5>
    <div *ngFor="let item of listaDeOperacaoFinalizadas; let i = index" class="card" style="width: 18rem;">
      <div class="card-body">
        <h5 class="card-title">{{ item.operacaoDeEntrada.empresa }} *** Entrada ***</h5>
        <div class="card-text">Natureza: {{ item.operacaoDeEntrada.natureza }}</div>
        <div class="card-text">Quantidade: {{ item.operacaoDeEntrada.quantidade }}</div>
        <div class="card-text">Preço: {{ item.operacaoDeEntrada.preco|number:'1.2-2' }}</div>
        <div class="card-text">Data: {{ item.operacaoDeEntrada.Data() }}</div>
        <div class="card-text">MêsReferencia: {{ item.operacaoDeEntrada.MesAno() }}</div>
        <h5 class="card-title">{{ item.operacaoDeSaida.empresa }} *** Saida ***</h5>
        <div class="card-text">Natureza: {{ item.operacaoDeSaida.natureza }}</div>
        <div class="card-text">Quantidade: {{ item.operacaoDeSaida.quantidade }}</div>
        <div class="card-text">Preço: {{ item.operacaoDeSaida.preco|number:'1.2-2' }}</div>
        <div class="card-text">Data: {{ item.operacaoDeSaida.Data() }}</div>
        <div class="card-text">MêsReferencia: {{ item.operacaoDeSaida.MesAno() }}</div>
        <div class="card-text lucroouprejuizo" 
        [class.lucro]="item.lucroouprejuizo() >= 0"
        [class.prejuizo]="item.lucroouprejuizo() < 0"><span>Resultado: {{ item.lucroouprejuizo() |number:'1.2-2' }}</span></div>

        <!-- <a href="#" class="btn btn-primary">Go somewhere</a> -->
      </div>
    </div>
  </div>